apiVersion: v1
name: {{.Name}}
kind: application
resource: {{.Resource.Group}}
metadata:
  kind: {{.Application.Kind}}
  name: {{.Application.Name}}
  tags: {{.Application.Name}}-tag
  tenant: {{.Application.Name}}-tenant
  operator: {{.Operator.Name}}
  dnszone: {{.Network.DNSZone}}
config:
  kind: config
  source:
  detail:
    base: {{.Application.Base}}
    resources: 
    template: {{.Application.Template}}
    deployment: {{.Application.Deployment}}
    manifest: {{.Application.Manifest}}
spec:
  flags: none
  key: {{.Cluster.Name}}
  rootlb: {{.Cluster.Name}}.{{.Operator.Name}}.{{.Network.DNSZone}}
  image: {{.Application.Image}}
  imagetype: {{.Application.ImageType}}
  proxypath: {{.Application.ProxyPath}}
  flavor: {{.Cluster.Flavor}}
  uri: https://{{.Application.Name}}.{{.Cluster.Name}}.{{.Operator.Name}}.{{.Network.DNSZone}}
  ipaccess: {{.Network.IPAccess}}
  ports:
  - name: lprotohttp1
    mexproto: LProtoHTTP
    proto: TCP
    internalport: 27272
    publicport: 27272
    publicpath: {{.Application.Name}}-grpc
  - name: lprotohttp2
    mexproto: LProtoHTTP
    proto: TCP
    internalport: 27273
    publicport: 27273
    publicpath: {{.Application.Name}}-rest
  - name: lprotohttp3
    mexproto: LProtoHTTP
    proto: TCP
    internalport: 27274
    publicport: 27274
    publicpath: {{.Application.Name}}-http
  - name: lprototcp1
    mexproto: LProtoTCP
    proto: TCP
    internalport: 27275
    publicport: 27275
    publicpath: {{.Application.Name}}-tcp
  - name: lprotoudp1
    mexproto: LProtoUDP
    proto: UDP
    internalport: 27276
    publicport: 27276
    publicpath: {{.Application.Name}}-udp
  command:
